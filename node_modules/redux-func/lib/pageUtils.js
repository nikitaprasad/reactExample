'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.resolveDomElement = resolveDomElement;
exports.getPageProps = getPageProps;
function resolveDomElement(domElement) {
  if (domElement instanceof Element) {
    // Nice
  } else if (typeof domElement === 'string') {
    domElement = document.querySelector(domElement);
  } else {
    domElement = document.getElementById('page') || document.getElementById('root');
  }
  if (!domElement) {
    throw new Error('Unable to find domElement to render into.');
  }
  return domElement;
}

function getPageProps(domElement) {
  var pageProps = window.pageProps || {};

  // Merge props from domElement
  if (domElement) {
    domElement = resolveDomElement(domElement);
    if (domElement.dataset) {
      pageProps = Object.assign({}, domElement.dataset, pageProps);
    }
  }

  var baseUrl = pageProps.baseUrl;
  if (baseUrl && baseUrl !== '/' && baseUrl.endsWith('/')) {
    baseUrl = pageProps.baseUrl = baseUrl.substr(0, baseUrl.length - 1);
  }

  return pageProps;
}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBhZ2VVdGlscy5qcyJdLCJuYW1lcyI6WyJyZXNvbHZlRG9tRWxlbWVudCIsImdldFBhZ2VQcm9wcyIsImRvbUVsZW1lbnQiLCJFbGVtZW50IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiZ2V0RWxlbWVudEJ5SWQiLCJFcnJvciIsInBhZ2VQcm9wcyIsIndpbmRvdyIsImRhdGFzZXQiLCJPYmplY3QiLCJhc3NpZ24iLCJiYXNlVXJsIiwiZW5kc1dpdGgiLCJzdWJzdHIiLCJsZW5ndGgiXSwibWFwcGluZ3MiOiI7Ozs7O1FBQWdCQSxpQixHQUFBQSxpQjtRQWNBQyxZLEdBQUFBLFk7QUFkVCxTQUFTRCxpQkFBVCxDQUEyQkUsVUFBM0IsRUFBdUM7QUFDNUMsTUFBSUEsc0JBQXNCQyxPQUExQixFQUFtQztBQUNqQztBQUNELEdBRkQsTUFFTyxJQUFJLE9BQU9ELFVBQVAsS0FBc0IsUUFBMUIsRUFBb0M7QUFDekNBLGlCQUFhRSxTQUFTQyxhQUFULENBQXVCSCxVQUF2QixDQUFiO0FBQ0QsR0FGTSxNQUVBO0FBQ0xBLGlCQUFhRSxTQUFTRSxjQUFULENBQXdCLE1BQXhCLEtBQW1DRixTQUFTRSxjQUFULENBQXdCLE1BQXhCLENBQWhEO0FBQ0Q7QUFDRCxNQUFJLENBQUNKLFVBQUwsRUFBaUI7QUFDZixVQUFNLElBQUlLLEtBQUosQ0FBVSwyQ0FBVixDQUFOO0FBQ0Q7QUFDRCxTQUFPTCxVQUFQO0FBQ0Q7O0FBRU0sU0FBU0QsWUFBVCxDQUFzQkMsVUFBdEIsRUFBa0M7QUFDdkMsTUFBSU0sWUFBWUMsT0FBT0QsU0FBUCxJQUFvQixFQUFwQzs7QUFFQTtBQUNBLE1BQUlOLFVBQUosRUFBZ0I7QUFDZEEsaUJBQWFGLGtCQUFrQkUsVUFBbEIsQ0FBYjtBQUNBLFFBQUlBLFdBQVdRLE9BQWYsRUFBd0I7QUFDdEJGLGtCQUFZRyxPQUFPQyxNQUFQLENBQWMsRUFBZCxFQUFrQlYsV0FBV1EsT0FBN0IsRUFBc0NGLFNBQXRDLENBQVo7QUFDRDtBQUNGOztBQUVELE1BQUlLLFVBQVVMLFVBQVVLLE9BQXhCO0FBQ0EsTUFBSUEsV0FBV0EsWUFBWSxHQUF2QixJQUE4QkEsUUFBUUMsUUFBUixDQUFpQixHQUFqQixDQUFsQyxFQUF5RDtBQUN2REQsY0FBVUwsVUFBVUssT0FBVixHQUFvQkEsUUFBUUUsTUFBUixDQUFlLENBQWYsRUFBa0JGLFFBQVFHLE1BQVIsR0FBaUIsQ0FBbkMsQ0FBOUI7QUFDRDs7QUFFRCxTQUFPUixTQUFQO0FBQ0QiLCJmaWxlIjoicGFnZVV0aWxzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVEb21FbGVtZW50KGRvbUVsZW1lbnQpIHtcclxuICBpZiAoZG9tRWxlbWVudCBpbnN0YW5jZW9mIEVsZW1lbnQpIHtcclxuICAgIC8vIE5pY2VcclxuICB9IGVsc2UgaWYgKHR5cGVvZiBkb21FbGVtZW50ID09PSAnc3RyaW5nJykge1xyXG4gICAgZG9tRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZG9tRWxlbWVudCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGRvbUVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFnZScpIHx8IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyb290Jyk7XHJcbiAgfVxyXG4gIGlmICghZG9tRWxlbWVudCkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gZmluZCBkb21FbGVtZW50IHRvIHJlbmRlciBpbnRvLicpO1xyXG4gIH1cclxuICByZXR1cm4gZG9tRWxlbWVudDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFBhZ2VQcm9wcyhkb21FbGVtZW50KSB7XHJcbiAgbGV0IHBhZ2VQcm9wcyA9IHdpbmRvdy5wYWdlUHJvcHMgfHwge307XHJcblxyXG4gIC8vIE1lcmdlIHByb3BzIGZyb20gZG9tRWxlbWVudFxyXG4gIGlmIChkb21FbGVtZW50KSB7XHJcbiAgICBkb21FbGVtZW50ID0gcmVzb2x2ZURvbUVsZW1lbnQoZG9tRWxlbWVudCk7XHJcbiAgICBpZiAoZG9tRWxlbWVudC5kYXRhc2V0KSB7XHJcbiAgICAgIHBhZ2VQcm9wcyA9IE9iamVjdC5hc3NpZ24oe30sIGRvbUVsZW1lbnQuZGF0YXNldCwgcGFnZVByb3BzKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGxldCBiYXNlVXJsID0gcGFnZVByb3BzLmJhc2VVcmw7XHJcbiAgaWYgKGJhc2VVcmwgJiYgYmFzZVVybCAhPT0gJy8nICYmIGJhc2VVcmwuZW5kc1dpdGgoJy8nKSkge1xyXG4gICAgYmFzZVVybCA9IHBhZ2VQcm9wcy5iYXNlVXJsID0gYmFzZVVybC5zdWJzdHIoMCwgYmFzZVVybC5sZW5ndGggLSAxKTtcclxuICB9XHJcblxyXG4gIHJldHVybiBwYWdlUHJvcHM7XHJcbn1cclxuIl19
