'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

exports.default = configureStore;

var _redux = require('redux');

var _reactRouterRedux = require('react-router-redux');

var _reduxDevtools = require('redux-devtools');

var _reduxThunk = require('redux-thunk');

var _reduxThunk2 = _interopRequireDefault(_reduxThunk);

var _reduxLogger = require('redux-logger');

var _DevTools = require('./DevTools');

var _DevTools2 = _interopRequireDefault(_DevTools);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function configureStore(rootReducer, initialState, history) {
  var middleware = (0, _reactRouterRedux.routerMiddleware)(history);

  var store = (0, _redux.createStore)((0, _redux.combineReducers)(_extends({}, rootReducer, {
    router: _reactRouterRedux.routerReducer
  })), initialState || undefined, (0, _redux.compose)((0, _redux.applyMiddleware)(middleware, _reduxThunk2.default, (0, _reduxLogger.createLogger)({
    collapsed: true
  })), _DevTools2.default.instrument(), (0, _reduxDevtools.persistState)(window.location.href.match(/[?&]debug_session=([^&#]+)\b/))));

  return store;
}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbmZpZ3VyZVN0b3JlLmRldi5qcyJdLCJuYW1lcyI6WyJjb25maWd1cmVTdG9yZSIsInJvb3RSZWR1Y2VyIiwiaW5pdGlhbFN0YXRlIiwiaGlzdG9yeSIsIm1pZGRsZXdhcmUiLCJzdG9yZSIsInJvdXRlciIsInVuZGVmaW5lZCIsImNvbGxhcHNlZCIsImluc3RydW1lbnQiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhyZWYiLCJtYXRjaCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7a0JBT3dCQSxjOztBQVB4Qjs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUNBOztBQUNBOzs7Ozs7QUFFZSxTQUFTQSxjQUFULENBQXdCQyxXQUF4QixFQUFxQ0MsWUFBckMsRUFBbURDLE9BQW5ELEVBQTREO0FBQ3pFLE1BQU1DLGFBQWEsd0NBQWlCRCxPQUFqQixDQUFuQjs7QUFFQSxNQUFNRSxRQUFRLHdCQUNaLHlDQUNLSixXQURMO0FBRUVLO0FBRkYsS0FEWSxFQUtaSixnQkFBZ0JLLFNBTEosRUFNWixvQkFDRSw0QkFBZ0JILFVBQWhCLHdCQUFtQywrQkFBYTtBQUM5Q0ksZUFBVztBQURtQyxHQUFiLENBQW5DLENBREYsRUFJRSxtQkFBU0MsVUFBVCxFQUpGLEVBS0UsaUNBQ0VDLE9BQU9DLFFBQVAsQ0FBZ0JDLElBQWhCLENBQXFCQyxLQUFyQixDQUNFLDhCQURGLENBREYsQ0FMRixDQU5ZLENBQWQ7O0FBbUJBLFNBQU9SLEtBQVA7QUFDRCIsImZpbGUiOiJjb25maWd1cmVTdG9yZS5kZXYuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVTdG9yZSwgY29tcG9zZSwgY29tYmluZVJlZHVjZXJzLCBhcHBseU1pZGRsZXdhcmUgfSBmcm9tICdyZWR1eCc7XHJcbmltcG9ydCB7IHJvdXRlclJlZHVjZXIsIHJvdXRlck1pZGRsZXdhcmUgfSBmcm9tICdyZWFjdC1yb3V0ZXItcmVkdXgnO1xyXG5pbXBvcnQgeyBwZXJzaXN0U3RhdGUgfSBmcm9tICdyZWR1eC1kZXZ0b29scyc7XHJcbmltcG9ydCB0aHVuayBmcm9tICdyZWR1eC10aHVuayc7XHJcbmltcG9ydCB7IGNyZWF0ZUxvZ2dlciB9IGZyb20gJ3JlZHV4LWxvZ2dlcic7XHJcbmltcG9ydCBEZXZUb29scyBmcm9tICcuL0RldlRvb2xzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNvbmZpZ3VyZVN0b3JlKHJvb3RSZWR1Y2VyLCBpbml0aWFsU3RhdGUsIGhpc3RvcnkpIHtcclxuICBjb25zdCBtaWRkbGV3YXJlID0gcm91dGVyTWlkZGxld2FyZShoaXN0b3J5KTtcclxuXHJcbiAgY29uc3Qgc3RvcmUgPSBjcmVhdGVTdG9yZShcclxuICAgIGNvbWJpbmVSZWR1Y2Vycyh7XHJcbiAgICAgIC4uLnJvb3RSZWR1Y2VyLFxyXG4gICAgICByb3V0ZXI6IHJvdXRlclJlZHVjZXJcclxuICAgIH0pLFxyXG4gICAgaW5pdGlhbFN0YXRlIHx8IHVuZGVmaW5lZCxcclxuICAgIGNvbXBvc2UoXHJcbiAgICAgIGFwcGx5TWlkZGxld2FyZShtaWRkbGV3YXJlLCB0aHVuaywgY3JlYXRlTG9nZ2VyKHtcclxuICAgICAgICBjb2xsYXBzZWQ6IHRydWVcclxuICAgICAgfSkpLFxyXG4gICAgICBEZXZUb29scy5pbnN0cnVtZW50KCksXHJcbiAgICAgIHBlcnNpc3RTdGF0ZShcclxuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZi5tYXRjaChcclxuICAgICAgICAgIC9bPyZdZGVidWdfc2Vzc2lvbj0oW14mI10rKVxcYi9cclxuICAgICAgICApXHJcbiAgICAgIClcclxuICAgIClcclxuICApO1xyXG5cclxuICByZXR1cm4gc3RvcmU7XHJcbn1cclxuIl19
